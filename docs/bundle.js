var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(n)}function a(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let s="undefined"!=typeof window?()=>window.performance.now():()=>Date.now(),l=t=>requestAnimationFrame(t);const u=new Set;let c,d=!1;function f(){u.forEach(t=>{t[0](s())||(u.delete(t),t[1]())}),(d=u.size>0)&&l(f)}function p(t,e){t.appendChild(e)}function m(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode.removeChild(t)}function h(t){return document.createElement(t)}function $(t){return document.createTextNode(t)}function b(){return $(" ")}function g(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}let y,x=0,w={};function _(t,e,n,o,r,a,i,s=0){const l=16.666/o;let u="{\n";for(let t=0;t<=1;t+=l){const o=e+(n-e)*a(t);u+=100*t+`%{${i(o,1-o)}}\n`}const d=u+`100% {${i(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(d)}_${s}`;if(!w[f]){if(!c){const t=h("style");document.head.appendChild(t),c=t.sheet}w[f]=!0,c.insertRule(`@keyframes ${f} ${d}`,c.cssRules.length)}const p=t.style.animation||"";return t.style.animation=`${p?`${p}, `:""}${f} ${o}ms linear ${r}ms 1 both`,x+=1,f}function k(t,e){t.style.animation=(t.style.animation||"").split(", ").filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")).join(", "),e&&!--x&&l(()=>{if(x)return;let t=c.cssRules.length;for(;t--;)c.deleteRule(t);w={}})}function E(t){y=t}function S(t){(function(){if(!y)throw new Error("Function called outside component initialization");return y})().$$.on_mount.push(t)}const C=[],F=[],O=[],T=[],N=Promise.resolve();let D,R=!1;function q(t){O.push(t)}function A(){const t=new Set;do{for(;C.length;){const t=C.shift();E(t),P(t.$$)}for(;F.length;)F.pop()();for(let e=0;e<O.length;e+=1){const n=O[e];t.has(n)||(n(),t.add(n))}O.length=0}while(C.length);for(;T.length;)T.pop()();R=!1}function P(t){t.fragment&&(t.update(t.dirty),r(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(q))}function j(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const B=new Set;let M;function V(t,e){t&&t.i&&(B.delete(t),t.i(e))}function L(t,e,n,o){if(t&&t.o){if(B.has(t))return;B.add(t),M.callbacks.push(()=>{B.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}function z(n,o,i,c){let p=o(n,i),m=c?0:1,v=null,h=null,$=null;function b(){$&&k(n,$)}function g(t,e){const n=t.b-m;return e*=Math.abs(n),{a:m,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function y(o){const{delay:a=0,duration:i=300,easing:c=e,tick:y=t,css:x}=p,w={start:s()+a,b:o};o||(w.group=M,M.remaining+=1),v?h=w:(x&&(b(),$=_(n,m,o,i,a,c,x)),o&&y(0,1),v=g(w,i),q(()=>j(n,o,"start")),function(t){let e;d||(d=!0,l(f)),new Promise(n=>{u.add(e=[t,n])})}(t=>{if(h&&t>h.start&&(v=g(h,i),h=null,j(n,v.b,"start"),x&&(b(),$=_(n,m,v.b,v.duration,0,c,p.css))),v)if(t>=v.end)y(m=v.b,1-m),j(n,v.b,"end"),h||(v.b?b():--v.group.remaining||r(v.group.callbacks)),v=null;else if(t>=v.start){const e=t-v.start;m=v.a+v.d*c(e/v.duration),y(m,1-m)}return!(!v&&!h)}))}return{run(t){a(p)?(D||(D=Promise.resolve()).then(()=>{D=null}),D).then(()=>{p=p(),y(t)}):y(t)},end(){b(),v=h=null}}}function H(t,e){t.$$.dirty||(C.push(t),R||(R=!0,N.then(A)),t.$$.dirty=o()),t.$$.dirty[e]=!0}function J(e,i,s,l,u,c){const d=y;E(e);const f=i.props||{},p=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:u,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:o(),dirty:null};let m=!1;var v;p.ctx=s?s(e,f,(t,n)=>{p.ctx&&u(p.ctx[t],p.ctx[t]=n)&&(p.bound[t]&&p.bound[t](n),m&&H(e,t))}):f,p.update(),m=!0,r(p.before_update),p.fragment=l(p.ctx),i.target&&(i.hydrate?p.fragment.l((v=i.target,Array.from(v.childNodes))):p.fragment.c(),i.intro&&V(e.$$.fragment),function(t,e,o){const{fragment:i,on_mount:s,on_destroy:l,after_update:u}=t.$$;i.m(e,o),q(()=>{const e=s.map(n).filter(a);l?l.push(...e):r(e),t.$$.on_mount=[]}),u.forEach(q)}(e,i.target,i.anchor),A()),E(d)}class U{$destroy(){var e,n;n=1,(e=this).$$.fragment&&(r(e.$$.on_destroy),e.$$.fragment.d(n),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={}),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function W(t){const e=t-1;return e*e*e+1}function X(t){return--t*t*t*t*t+1}function G(t,{delay:e=0,duration:n=400,easing:o=W}){const r=getComputedStyle(t),a=+r.opacity,i=parseFloat(r.height),s=parseFloat(r.paddingTop),l=parseFloat(r.paddingBottom),u=parseFloat(r.marginTop),c=parseFloat(r.marginBottom),d=parseFloat(r.borderTopWidth),f=parseFloat(r.borderBottomWidth);return{delay:e,duration:n,easing:o,css:t=>"overflow: hidden;"+`opacity: ${Math.min(20*t,1)*a};`+`height: ${t*i}px;`+`padding-top: ${t*s}px;`+`padding-bottom: ${t*l}px;`+`margin-top: ${t*u}px;`+`margin-bottom: ${t*c}px;`+`border-top-width: ${t*d}px;`+`border-bottom-width: ${t*f}px;`}}function I(t){var e,n,o,r,a;return{c(){e=h("div"),n=h("p"),o=$(t.url),g(n,"class","svelte-l3vmv9"),g(e,"class","url-pop svelte-l3vmv9")},m(t,r){m(t,e,r),p(e,n),p(n,o),a=!0},p(t,e){var n,r;a&&!t.url||(n=o,r=""+(r=e.url),n.data!==r&&(n.data=r))},i(t){a||(q(()=>{r||(r=z(e,G,{delay:100,duration:300,easing:X},!0)),r.run(1)}),a=!0)},o(t){r||(r=z(e,G,{delay:100,duration:300,easing:X},!1)),r.run(0),a=!1},d(t){t&&(v(e),r&&r.end())}}}function K(t){var e,n;return{c(){var o,r,a,i;(e=h("button")).textContent="Save!",g(e,"type","button"),g(e,"class","svelte-l3vmv9"),o=e,r="click",a=t.saveNote,o.addEventListener(r,a,i),n=(()=>o.removeEventListener(r,a,i))},m(t,n){m(t,e,n)},d(t){t&&v(e),n()}}}function Q(t){var e,n,o,a,i,s,l,u,c=t.visible&&I(t),d=t.buttonVisible&&K(t);return{c(){var r,u;e=h("div"),n=h("div"),o=h("div"),a=h("textarea"),i=b(),s=h("div"),c&&c.c(),l=b(),d&&d.c(),a.readOnly=t.textareaDisabled,a.value=t.note,g(a,"class","svelte-l3vmv9"),r="flex-grow",u="1",o.style.setProperty(r,u),g(o,"class","svelte-l3vmv9"),g(s,"class","note-footer svelte-l3vmv9"),g(n,"class","container svelte-l3vmv9"),g(e,"class","main svelte-l3vmv9")},m(t,r){m(t,e,r),p(e,n),p(n,o),p(o,a),p(n,i),p(n,s),c&&c.m(s,null),p(s,l),d&&d.m(s,null),u=!0},p(t,e){u&&!t.textareaDisabled||(a.readOnly=e.textareaDisabled),u&&!t.note||(a.value=e.note),e.visible?c?(c.p(t,e),V(c,1)):((c=I(e)).c(),V(c,1),c.m(s,l)):c&&(M={remaining:0,callbacks:[]},L(c,1,1,()=>{c=null}),M.remaining||r(M.callbacks)),e.buttonVisible?d||((d=K(e)).c(),d.m(s,null)):d&&(d.d(1),d=null)},i(t){u||(V(c),u=!0)},o(t){L(c),u=!1},d(t){t&&v(e),c&&c.d(),d&&d.d()}}}function Y(t,e,n){var o=new XMLHttpRequest;o.open("POST",t,!0),o.setRequestHeader("Content-Type","application/json"),o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status){var t=JSON.parse(o.responseText);n(t)}else n({code:1,detail:"Unexpected server response"})};var r=JSON.stringify(e);o.send(r)}function Z(t,e,n){let o,r="",a=!1,i=!0,s="";return S(()=>{let t=window.location.pathname.replace("/","");t&&10===t.length?function(t){Y("https://notesbackend9.herokuapp.com/note",{noteUrl:t},t=>{0===t.code&&n("note",s=t.note)})}(t):(n("buttonVisible",a=!0),n("textareaDisabled",i=!1))}),{visible:o,url:r,buttonVisible:a,textareaDisabled:i,note:s,saveNote:function(){Y("https://notesbackend9.herokuapp.com/save",{note:document.querySelector("textarea").value},t=>{0===t.code&&(n("url",r=window.location.hostname+"/svelte-fullstack-demo/"+t.url),async function(){o?(n("visible",o=!1),setTimeout(()=>{n("visible",o=!0)},500)):n("visible",o=!0)}())})}}}return new class extends U{constructor(t){super(),J(this,t,Z,Q,i,[])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
